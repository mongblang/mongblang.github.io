---
title: "Python - Class"
date: 2024-12-13
categories: [ASAC]
tags: [데이터분석, python]
layout: post
author: mongblang
---

# **1. 클래스**
> 속성과 기능을 통합해 하나의 틀을 만드는 것

## 1-1. 속성 (Property)

class를 생성하는 것: object 
필요한 기능 중심으로 설계/조립/기능연결 etc  = 많은 시행착오, 경험, 노하우, 트렌드 등
참고) 데분/모델링에선 심하게 다루지는 않음
       => 기본적인 부분 + 스타일이 전문 개발과는 조금 다름 
dl에 있는 최신 코드들은 거의다 클래스를 기반으로 함 ! 

클래스: 해당하는 속성과 기능을 통합시켜주는 (뭔가의 필요한 하나의 틀을 만드는 것)
     예) 평균과 총점계산(기능 -> method) + 점수,이름과 같은 속성(property)까지 다룰 수 있음 = 추상적인 표현/생성이 가능
속성(property) + 함수적인 기능(method)

객체: 클래스를 기반으로 생성된 구체적인 대상 
      붕어빵틀: 클래스 => 구체적으로 만들어진 붕어빵 1개: 객체
self: 자기 자신에 대한 부분을 언급/사용할 때 사용

클래스의 기능은 직접 조작/설계를 할 수 있음 def = 1개 기능이 아니라 여러개 기능을 구조적으로 작성할 수 있음
목적: 속성값과 기능들을 가진 종합체를 만들어서 편히 쓰는 것 

cf) 특별 메서드: 기본연산자들을 내가 설계한 클래스에 적용할 수 있도록 특별한 기능을 부여하는 것

---

# 데이터 전처리

# **1. Numpy (numerical python)**
> 데이터를 처리하는 파이썬의 기본이 되는 패키지로, 수치연산을 파이썬에서 가능하게 하기 위해 생성됨   

- 넘파이 베이스 패키지: pandas, scikit-learn, tf/pytorch 같은 패키지를 활용
- 설치: anaconda로 설치하면 numpy, pandas가 기본으로 설치가 되어있으므로 불러오기만 하면 됨 (코랩에도 설치되어있지만 아나콘다와 관리하는 버전이 다름)


## **1-1. Array**
> 파이썬의 기본적인 자료형을 개선하고자 새롭게 개발한 자료형으로, **벡터연산**이 가능하다 (파이썬에는 이런 자료형이 없기에 for문을 사용해 모든 값들을 돌려야 함)

- 값에 대한 접근: 숫자, 문자, 리스트, 딕셔너리, 등 파이썬 기본 접근법 + 차원에 대한 정보 (오/열/값)
    - 형식들을 맞춰서 사용해야 함 = 오와 열이 맞지 않는 데이터는 값으로 설정할 수 없지만 숫자, 문자값이 같이 있는 데이터까지는 가능
    - 형변환시 (astype사용) 원본 데이터가 바로 바뀌지 않고 재할당이 필요함 

- 벡터연산: 하려는 연산/모델을 표현하는 가장 기본적인 규칙적 방법으로, 수식의 기반을 선형대수의 벡터/행렬/tensor를 추상화로 표현 (예:v+1)
    + 모든 원소에 일괄되게 기능을 적용 (기능중심)하기 때문에 데이터 처리/표현/가공시 코드 구현이 간결해짐 
    - 위치중심이 아니라 index중심으로 연산 수행

- 속성 확인:
    1. 차원: array.ndim
    2. (행,열) : array.shape
    3. 데이터 타입: array.dytpe

- 자체적 자료형: [numpy자료형](https://numpy.org/doc/stable/reference/arrays.dtypes.html)

## **1-2 numpy 인덱싱**
    - 인덱스: 정수, 슬라이싱, 리스트(2D 이상의 array에서는 주의의), 가로/세로 위치(들), 조건식
    - 2차원 array의 관점에서는 가로/세로에 대해 독립적으로 접근
        예) array[row,col] / array[row정수, col정수] / array[row:row2, col:col2] 등 
    - 불리언 인덱싱: array의 인덱스자리에 조건식을 넣어서 조건 검색과 필터링을 함
        - 조건식: 모든 원소에 해당하는 조건이 맞는지 일괄로 결과를 불리언 값으로 반환

>요약: numpy는 모든 원소에 대한 일괄적용이 가능한 벡터연산을 기본으로 하는 자료형 + 차원에 대한 정보도 활용 가능 (오/열/값 다 매칭/통일해야만 차원의 정보가 생성됨)

# 2. Pandas
> 파이썬을 기반으로 생성된 패키지로, 데이터 차원별로 다른 자료형을 사용 

## 2-1. Pandas 자료형 종류
- Series: 1차원 데이터를 처리하는 자료형
    - 직접적으로 사용할 일은 거의 없음
    - 타 자료형과 기능적으로 거의 유사함
- DataFrame: 2차원 데이터를 처리하는 자료형
- Pannel: 3차원 (추적, 모니터링이 필요한) 데이터를 처리하는 자료형

- 특징: 원하는 인덱스를 설정해 값에 바로 접근할 수 있음
    - 단점: 시간, 숫자, 텍스트 등 여러 자료형을 다 처리해야하고 속도가 느림 

### 2-2. 결측치 처리
- .isnull(): 결측치 존재 여부 T/F
    > 공백, 빈 문자열열, None타입 데이터는 누락되므로 실제 데이터를 보면서 더블체크 필수   

- .notnull(): 결측치 여부 T/F

### 2-3. 값에 대한 접근  

#### 단일 값 
1. at: 생성된 인덱스로 접근
2. iat: 정수인덱스 단일 값 접근

#### 다중 값
1. loc: 생성된 인덱스 (열 이름)로 다중 값을 접근
2. iloc: 정수인덱스로 다중 값을 접근

> 위 방법을 써서 단일 값 접근도 가능하지만 데이터가 많아지면 속도 차이가 날 수 있음  

---

### 데이터프레임 

#### 인덱스
> 기존의 인덱스를 확장해 기존 정수 인덱스 + 직접 생성한 인덱스를 부여할 수 있음 

- .index: 행에 대한 인덱스
- .columns: 열에 대한 인덱스

# 3. JSON (JavaScript Object Notation)
> 서로 다른 프로그램/서비스/어플리케이션 사이에 데이터를 주고받을 떄 사용하는 양식 중 하나   

- 양식: **문자열**로 작성된 text데이터로, 파이썬의 리스트와 딕셔너리와 대응됨
    `{"firstName":"John", "lastName":"Doe"}`

- json패키지: 정규식을 쓰지 않아도 json룰로 작성된 정보들을 파이썬의 자료형으로 자동 변환하는 패키지를 통해 파이썬의 리스트/딕셔너리로 값을 접근할 수 있음

    ```python
    import json
    a = json.loads( json_data1 )
    a
    ```
    - 원하는 값에 접근하려면 키값, 정수인덱스를 주어진대로 활용하며, depth별로 순차적으로 접근해야 한다 
        예) `data["groups"]["group"][1]["type"]`: groups내에 있는 group의 두 번째 값의 type에 접근