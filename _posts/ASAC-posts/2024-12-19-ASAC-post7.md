---
title: "[3주차] Python 데이터 전처리 - Numpy"
date: 2024-12-19
categories: [ASAC 빅데이터 분석가 7기, Python]
tags: [데이터분석, Python]
layout: post
author: mongblang
---

# **1. Numpy (numerical python)**
- 데이터를 처리하는 파이썬의 기본이 되는 패키지로, 수치연산을 파이썬에서 가능하게함  
- 넘파이 기반 패키지: pandas, scikit-learn, tf/pytorch 등 
- ⚙️ 설치: anaconda로 설치하면 numpy, pandas가 기본으로 설치가 되어있으므로 불러오기만 하면 됨 (코랩에도 설치되어있지만 아나콘다와 관리하는 버전이 다름)


## **1-1. Array**
- 파이썬의 기본적인 자료형을 개선하고자 새롭게 개발한 자료형으로, <span style="background-color:#fff5b1"> 벡터연산이 가능</span>
    - **벡터연산**: 하고자하는 연산/모델을 표현하는 가장 기본적인 규칙적 방법으로, 수식의 기반을 선형대수의 벡터/행렬/tensor를 추상화로 표현 (예:v+1) 
        - <span style="color:blue"> 장점</span>: 모든 원소에 일괄되게 기능을 적용 (기능중심)하기 때문에 데이터 처리/표현/가공시 코드 구현이 간결해짐 
        - <span style="color:red"> 단점</span>: 위치중심이 아닌 index중심으로 연산 수행

- **값에 대한 접근**: 숫자, 문자, 리스트, 딕셔너리, 등 파이썬 기본 접근법 + 차원에 대한 정보 생성 (오/열/값)
    - 오와 열이 맞지 않는 데이터는 값으로 설정할 수 없지만 숫자, 문자값이 같이 있는 데이터까지는 가능
    - 형변환시 (astype사용) 원본 데이터가 바로 바뀌지 않고 재할당이 필요

- **속성 확인**:
    1. 차원: `array.ndim`
    2. (행,열) : `array.shape`
    3. 데이터 타입: `array.dytpe`

    > 참고: [numpy 자체적 자료형](https://numpy.org/doc/stable/reference/arrays.dtypes.html)

&nbsp;  

---

## **1-2 인덱싱**
- 인덱스 종류: 정수, 슬라이싱, 리스트(2D 이상의 array에서는 주의), 가로/세로 위치(들), 조건식
- 2차원 array의 관점에서는 가로/세로에 대해 독립적으로 접근  
    예: array[row,col] / array[row정수, col정수] / array[row:row2, col:col2] 등 
- 불리언 인덱싱: array의 인덱스자리에 조건식을 넣어서 조건 검색과 필터링이 가능
- 조건식: 모든 원소에 해당하는 조건이 맞는지 일괄로 결과를 불리언 값으로 반환

> 요약: numpy는 모든 원소에 대한 일괄적용이 가능한 벡터연산을 기본으로 하는 자료형 + 차원에 대한 정보도 활용 가능 (단, 오/열/값 다 매칭/통일해야만 차원의 정보가 생성됨)

&nbsp;  

---

# **2. Pandas**
- 파이썬을 기반으로 생성된 패키지로, 데이터 차원별로 다른 자료형을 사용한다는 특징이 있음 
- 원하는 인덱스를 설정해 값에 바로 접근할 수 있음
- 시간, 숫자, 텍스트 등 여러 자료형을 처리해야 하므로 속도가 느림 

## **2-1. Pandas 자료형 종류**

|    차원    | 구분  |  특징 |
|-----------|---|---|
| 1차원    | Series  |  직접적으로 사용할 일은 거의 없으며 타 자료형과 기능적으로 거의 유사함 |
| 2차원 | DataFrame  | 엑셀의 시트와 같은 구조 |
| 3차원  | Pannel | 추적, 모니터링이 필요한 데이터 처리, 엑셀의 통합파일과 같은 구조 |

&nbsp;  

---

### **2-2. 결측치 처리**
- .isnull(): 결측치 존재 여부 T/F
    > 공백, 빈 문자열열, None타입 데이터는 누락되므로 실제 데이터를 보면서 더블체크 필수   

- .notnull(): 결측치 여부 T/F

### **2-3. 값에 대한 접근**

#### 단일 값 
1. at: 생성된 인덱스로 접근
2. iat: 정수인덱스 단일 값 접근

#### 다중 값
1. loc: 생성된 인덱스 (열 이름)로 다중 값을 접근
2. iloc: 정수인덱스로 다중 값을 접근

> 위 방법을 써서 단일 값 접근도 가능하지만 데이터가 많아지면 속도 차이가 날 수 있음  

---

### **데이터프레임** 

#### 인덱스
> 기존의 인덱스를 확장해 기존 정수 인덱스 + 직접 생성한 인덱스를 부여할 수 있음 

- .index: 행에 대한 인덱스
- .columns: 열에 대한 인덱스

---

# 3. JSON (JavaScript Object Notation)
> 서로 다른 프로그램/서비스/어플리케이션 사이에 데이터를 주고받을 떄 사용하는 양식 중 하나   

- 양식: **문자열**로 작성된 text데이터로, 파이썬의 리스트와 딕셔너리와 대응됨
    `{"firstName":"John", "lastName":"Doe"}`

- json패키지: 정규식을 쓰지 않아도 json룰로 작성된 정보들을 파이썬의 자료형으로 자동 변환하는 패키지를 통해 파이썬의 리스트/딕셔너리로 값을 접근할 수 있음

    ```python
    import json
    a = json.loads( json_data1 )
    a
    ```
    - 원하는 값에 접근하려면 키값, 정수인덱스를 주어진대로 활용하며, depth별로 순차적으로 접근해야 한다 
        예) `data["groups"]["group"][1]["type"]`: groups내에 있는 group의 두 번째 값의 type에 접근


