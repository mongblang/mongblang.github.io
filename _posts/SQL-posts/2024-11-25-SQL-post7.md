---
title: "SQL ③ - 조건문과 연산자"
date: 2024-11-25 
categories: [프로그래밍 기초, SQL]
tags: [SQL, 데이터모델링, 데이터베이스]
layout: post
author: mongblang
---

## **WHERE문**   
> 데이터베이스에서 특정 조건을 만족하는 데이터를 필터링하는 용도로 사용된다. 연산자를 사용해 조건을 설정하며, 집계함수는 사용할 수 없다.  

### **기본 구조**  
WHERE문의 기본 구조는 아래와 같다. WHERE NOT은 조건에 만족하지 않는 데이터를 필터링한다.  

```sql
WHERE 컬럼명(조건식 왼쪽), 비교연산자, 문자,숫자,표현식(조건식 우측),
비교칼럼명(조인사용시)
WHERE NOT 칼럼명 (조건식 왼쪽), 비교연산자, 문자,숫자,표현식(조건식 우측),
비교칼럼명(조인사용시)
```

예시:  
1. 단일 조건  
```sql
SELECT *
FROM 학생
WHERE 성적 >= 90;  /*성적이 90이상인 학생*/
```

2. 복합 조건  
```sql
SELECT * 
FROM 학생
WHERE (성적 >= 90 AND 학년 =3) OR 이름 LIKE '박%'; /*성적이 90이상이고 3학년이거나 박씨인 학생*/
```  
&nbsp;  

---

## **연산자**   
연산자의 종류는 비교연산자, 부정비교연산자, 논리연산자, SQL연산자 등이 있다. 비교연산자는 `>`, `=`등이니 생략하겠다.  

#### **1. 부정비교연산자**
`! =` , `^=` , `<>`, `NOT 칼럼명 =` : 같지 않은것 조회  

#### **2. 논리연산자**
- `AND`: 조건 모두 만족해야 참
- `OR`: 조건 하나만 만족해도 참
- `NOT`: 참이면 거짓으로 바꾸고 거짓이면 참으로 바꿈  

#### **3. SQL연산자**  
- `LIKE ‘%비교문자열%’` : 비교 문자열 조회 (‘%’는 모든값을 의미함)
- `BETWEEN A AND B`: A와 B의 사이의 값을 조회
- `IN (list)`: OR 을 의미하며 list 값 중하나만 일치해도 조회됨
- `IS NULL`: NULL 값 조회

#### **4. 부정SQL연산자**  
- `NOT BETWEEN A AND B`: A와 B 사이의 해당되지 않는 값을 조회
- `NOT IN(list)` : list와 불일치한것을 조회
- `IS NOT NULL`: NULL 값이 아닌 것을 조회  

#### **와일드카드**
와일드카드는  LIKE 연산자와 함께 사용되는 특수문자(%, !, _ 등)로, 특정 문자를 필터링하거나 검색할 때 쓰인다.  
- `%:` 0개 이상의 문자와 일치, 위치 상관없이 쓰인다.
    - 예: LIKE %A : A로 끝나는 모든 문자, LIKE A% : A로 시작하는 모든 문자, LIKE %A% : A를 포함하는 모든 문자
- `_` : 정확히 1개의 문자와 일치 
    - 예: LIKE A_ : A로 시작하고 뒤에 문자 1개가 있는 데이터 
- `[]` : SQL서버에서 지원하는 와일드카드로, 괄호안에 포함된 문자 중 하나와 일치
- `[^]` 또는 `[!]` : SQL서버에서 지원하는 와일드카드로, 괄호안에 포함되지 않은 문자와 일치
    - 예: [^a] : a가 아닌 문자와 일치
- `\` (escape) : 와일드카드 문자를 와일드카드가 아닌 문자 그대로 사용 
    - 예: 100/% : 100% 라는 문자를 검색 (그냥 100%하면 %가 와일드카드로 인식된다)  

##### 응용
1. 네이버 이메일을 사용하는 회원 검색: 

    ```sql
    SELECT *
    FROM 회원
    WHERE 이메일 LIKE '%naver.com';
    ```

2. 제품명이 "LG"로 시작하고 뒤에 숫자나 공백만 포함된 제품 검색:  

    ```sql
    SELECT *
    FROM 제품
    WHERE 제품명 LIKE 'LG[0-9 ]%';
    ```

&nbsp;  
&nbsp;  
