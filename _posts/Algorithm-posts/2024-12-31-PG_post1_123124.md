---
title: "[프로그래머스] Lv.2 주식가격 - Python"
date: 2024-12-31  
categories: [코딩테스트 연습, 프로그래머스]
tags: [Python, Algorithm]
layout: post
author: mongblang
---

# 📌&nbsp; **주식가격**
[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/42584)  

# 📝&nbsp; **문제**
---
![문제](/assets/img/codingtest-post-img/PG42584-1.png)


## ✏️&nbsp; **입출력 예시**
---
![예시](/assets/img/codingtest-post-img/PG42584-2.png) 

&nbsp;  

&nbsp;   



## **내 풀이**  
--- 

```python
def solution(prices):
    answer = [0] * len(prices)
    stack = [0]
    
    for s in range(1, len(prices)):
        while stack and prices[s] < prices[stack[-1]]:
            e = stack.pop()
            answer[e] = s-e
        stack.append(s)
        
    while stack:
        e = stack.pop()
        answer[e] = len(prices) - 1 - e
    
    return answer
```

#### **코드 해설**  
1. 가격의 인덱스를 담을 리스트 answer와 스택을 0으로 초기화한다.
2. 1부터 가격의 길이만큼 순회하며 스택에 데이터가 존재하고 현재 주식가격이 이전 주식가격(top)보다 작으면 이전 주식의 기간을 확정한다.  
3. e(가격이 떨어지는 시점)을 스택에서 pop한다.
4. s(현재 확인하는 시점부터) e를 뺀 기간을 answer에 추가한다. 
5. 현재 시점인 s를 스택에 추가하고 계속 비교한다.
6. 스택에 데이터가 끝까지 남아있는 경우, 즉 가격이 떨어지지 않은 주식은 스택에서 제거한 뒤 남은 시점들을 하나씩 꺼내서 마지막 인덱스까지의 기간을 계산한다. 

해설을 글로만 작성하니 이해가 잘 안갈 것 같아서 아래 단계별 실행 예시를 작성해봤다.   

| s | prices[s] | stack (전) | 동작 | stack (후) | answer |  
|---|-----------|------------|------|------------|-----------------|  
| - | - | [0] | 초기 상태 | [0] | [0,0,0,0,0] |  
| 1 | 2 | [0] | 2>1, append(1) | [0,1] | [0,0,0,0,0] |  
| 2 | 3 | [0,1] | 3>2, append(2) | [0,1,2] | [0,0,0,0,0] |  
| 3 | 2 | [0,1,2] | 2<3, pop(2) | [0,1] | [0,0,**1**,0,0] |  
| 3 | 2 | [0,1] | 2≥2, append(3) | [0,1,3] | [0,0,1,0,0] |  
| 4 | 3 | [0,1,3] | 3>2, append(4) | [0,1,3,4] | [0,0,1,0,0] |  

&nbsp;  

## **다른 풀이**
---

```python  
def solution(prices):
    answer = [0] * len(prices)
    for i in range(len(prices)):
        for j in range(i+1, len(prices)):
            if prices[i] <= prices[j]:
                answer[i] += 1
            else:
                answer[i] += 1
                break
    return answer
```

#### **코드 해설**  
1. 가격의 길이만큼 순회하며 현재가격과 다음 가격을 비교해 현재 가격이 다음 가격보다 작을 경우, 즉 가격이 떨어지지 않을 경우 1초씩 증가시킨다.
2. 가격이 떨어진 경우 1초동안은 가격이 떨어지지 않았기때문에 1초를 증가시키고 반복문을 탈출한다. 

&nbsp;   
&nbsp;  

훨씬 깔끔하지만 효율성 측면에선 살짝 아쉬운 코드